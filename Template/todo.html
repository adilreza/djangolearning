<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
    
    <script src="https://kit.fontawesome.com/817124c7d9.js" crossorigin="anonymous"></script>

    <link href="https://cdn.jsdelivr.net/npm/froala-editor@3.1.0/css/froala_editor.pkgd.min.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/froala-editor@3.1.0/js/froala_editor.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
    <link rel="stylesheet" href="/static/css/todo_style.css">

    <title>To Do</title>
</head>
<body>
    <script src="https://cdn.jsdelivr.net/gh/mathusummut/confetti.js/confetti.min.js"></script>

    <div class="container">
        <br>
        <br>
        <h1 style="color: rgb(0, 0, 0);">To Do list</h1>
        <h5>Working hard or hardly working?</h5>
        <hr>
        <br>
        <br>
        <div id ="our_data"></div>

        <br>
        
        <form action="" id="task_form">
            <div class="form-group">
                <label>Add a task</label>
                <input type="text" id="form_task" class="form-control" placeholder="Type task here" >
            </div>

            <button type="submit" id="" class="btn btn-primary btn-lg">Submit</button>
        </form>
        
        <!--Procrastinate Page-->
        <div style="margin: 50rem;"></div>
        <h1 style="color:rgb(255, 0, 170)">Edlyn's Procrastinate Page!!!ðŸ¥³ðŸ¥³ðŸ¥³ðŸ¤©</h1>
        <br>
        <button id="Party" class="btn btn-info">ðŸŽ‰LETS PARTY!!!ðŸŽ‰</button>
        <br>
        <br>
        <br>
        <h5>Why don't Dalmatians like hide-and-seek?</h5>
        <button id="Joke1" class="btn btn-outline-success">Answer</button>
        <p id="Ans1"></p>
        <br>
        <h5>What did the baker say to the bread?</h5>
        <button id="Joke2" class="btn btn-outline-danger">Answer</button>
        <p id="Ans2"></p>
        <br>
        <h5>Why did the baseball coach go to the bakery?</h5>
        <button id="Joke3" class="btn btn-outline-primary">Answer</button>
        <p id="Ans3"></p>
        <br>
        <br>
        <img src="/static/image/jack.png" alt="" class="jack">
        <img src="/static/image/box.png" alt="" class="box">
        <img src="/static/image/ball.png" alt="" class="ball">

        <div style="margin-bottom: 4rem;"></div>
    </div>

<script>
    $(document).ready(function(){
        $("#Party").click(function(){
            confetti.start(2000);
        })

        $("#Joke1").click(function(){
            $("#Ans1").html("They're always spotted!ðŸ˜†");
        })

        $("#Joke2").click(function(){
            $("#Ans2").html("I knead you!ðŸ˜‚");
        })

        $("#Joke3").click(function(){
            $("#Ans3").html("Because he needed a batter!ðŸ¤£");
        })

        $(".box").click(function(){
            $(".jack").animate({height:'0', width:'490px', opacity:'100'}, "slow");
            $(".jack").animate({height:'490px', width:'490px', opacity:'100'}, "slow");
            $(".jack").delay(1000);
            $(".jack").animate({height:'0', width:'490px', opacity:'100'}, "slow");
        })

        $(".ball").click(function(){
            $(".ball").animate({top:'5rem'}, "slow");
        })
    })  

</script>



    <script>
        $(document).ready(function(){
            $("#task_form").submit(function(e){
              e.preventDefault();
               var task = $("#form_task").val()
               data_json = {
                      "task": task,
               }
    
               $.ajax({
                  type: "POST",
                  url: "/todo/",
                  data: data_json,
                  dataType:"json",
    
                  success: function(data){
                      if(data.success)
                      {
                        clear_it()
                      }
                  }
    
               });
    
            });
    
        });
    
    
        function clear_it()
        {
           $("#form_task").val("")
        }

        function auto_call()
        {
            $.ajax({
                type: "GET",
                url: "/todo/get/",
                success: function(data){
                    document.getElementById("our_data").innerHTML=data
                    console.log(data);

                }



            })
        }

        setInterval(auto_call, 500);



    
    </script>
</body>
</html>